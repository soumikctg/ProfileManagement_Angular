<div class="upper-container">
  <mat-card>
    <mat-card-content class="main-div">
      <div class="search-div">
        <mat-form-field class="search-field">
          <mat-label>Search By LastName:</mat-label>
          <input [(ngModel)]="singleTeacherName" type="text" matInput />
        </mat-form-field>
        <button mat-raised-button type="button" (click)="getTeacherByName()">
          Search
        </button>
      </div>
      <div *ngIf="singleTeacher" class="result-div">
        <mat-card class="result">
          <mat-card-title align="center"
            >Name: {{ singleTeacher.Name }}
          </mat-card-title>
          <mat-card-subtitle align="center"
            >ID: {{ singleTeacher.Id }}</mat-card-subtitle
          >
          <mat-card-content>
            <p>Contact: {{ singleTeacher.Contact }}</p>
            <p>Address: {{ singleTeacher.Address }}</p>
            <p>Department: {{ singleTeacher.Department }}</p>
          </mat-card-content>
          <mat-card-actions class="action-button">
            <button mat-raised-button (click)="updateTeacher(singleTeacher)">
              Update
            </button>
            <button
              mat-raised-button
              (click)="partialUpdateTeacher(singleTeacher)"
            >
              Partial Upadate
            </button>
            <button
              mat-raised-button
              (click)="deleteTeacher(singleTeacher.Id!)"
            >
              Delete
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<div class="table-container">
  <div class="demo-button-container">
    <button
      mat-raised-button
      color="primary"
      (click)="addStudentForm()"
      class="demo-button"
    >
      Add Teacher
    </button>
  </div>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="newTeachers">
      <ng-container matColumnDef="serialNumber">
        <th mat-header-cell *matHeaderCellDef>Sr.</th>
        <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
      </ng-container>

      <ng-container matColumnDef="Id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let element">{{ element.Id }}</td>
      </ng-container>

      <ng-container matColumnDef="Name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.Name }}</td>
      </ng-container>

      <ng-container matColumnDef="Contact">
        <th mat-header-cell *matHeaderCellDef>Contact</th>
        <td mat-cell *matCellDef="let element">{{ element.Contact }}</td>
      </ng-container>

      <ng-container matColumnDef="Address">
        <th mat-header-cell *matHeaderCellDef>Address</th>
        <td mat-cell *matCellDef="let element">{{ element.Address }}</td>
      </ng-container>

      <ng-container matColumnDef="Department">
        <th mat-header-cell *matHeaderCellDef>Department</th>
        <td mat-cell *matCellDef="let element">{{ element.Department }}</td>
      </ng-container>

      <ng-container matColumnDef="Actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button mat-raised-button [matMenuTriggerFor]="beforeMenu">
            Action
          </button>
          <mat-menu #beforeMenu="matMenu" xPosition="before">
            <button mat-menu-item (click)="updateTeacher(element)">
              Update
            </button>
            <button mat-menu-item (click)="partialUpdateTeacher(element)">
              Partial Upadate
            </button>
            <button mat-menu-item (click)="deleteTeacher(element.Id)">
              Delete
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      [length]="totalTeachers"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20, 30, 50, 100]"
      (page)="handlePageEvent($event)"
      showFirstLastButtons
      aria-label="Select page"
    >
    </mat-paginator>
  </div>
</div>
